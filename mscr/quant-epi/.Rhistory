## Demographic data and baseline characteristics
df <- inner_join(df_twins, subset(df_wide, hour == 7), by = 'patid')
# Format appropriate data from numerical into categories
# Adding labels using the Hmisc package to the variables
tmp <- within(df, {
patid <- factor(patid)
pair <- factor(pair)
Age <- age
BMI <- bmi_number
Physical_Activity <- baecke_tot
FRS <- FRS_T
Depression <- beck_total
Smoking <- factor(smoking)
levels(Smoking) <- c("No", "Yes")
Hypertension <- factor(hptn)
levels(Hypertension) <- c("No", "Yes")
Diabetes <- factor(dm)
levels(Diabetes) <- c("No", "Yes")
Antidepressant <- factor(med_antidepr)
levels(Antidepressant) <- c("No", "Yes")
Antilipidemic <- factor(med_lipid_abs)
levels(Antilipidemic) <- c("No", "Yes")
Antihyperglycemic <- factor(med_diabetes_mellitus)
levels(Antihyperglycemic) <- c("No", "Yes")
PTSD <- factor(ptsd)
levels(PTSD) <- c("No", "Yes")
Abnormal_DYX <- factor(CP)
levels(Abnormal_DYX) <- c("No", "Yes")
Abnormal_Stress <- factor(PETdiff_2)
levels(Abnormal_Stress) <- c("No", "Yes")
})
# Comparison group of excluded patients
cmp <- compareGroups(Abnormal_Stress ~ Age + BMI + Smoking + Hypertension + Diabetes + PTSD + Depression + Antidepressant + Antilipidemic + Antihyperglycemic + Physical_Activity + FRS + DYX, data = as.data.frame(tmp))
# Table
cmpTableOutcome <- createTable(cmp, show.n = TRUE, show.ratio = FALSE, show.p.overall = TRUE, show.ci = TRUE)
cmpTableOutcome
cmpTableExposure
216+38
208+54
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, subset(df_wide, hour == 7), by = 'patid') %>% na.omit()
df
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide[df$hour == 7,], by = 'patid') %>% na.omit()
df
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide[df$hour == 7,], by = 'patid') %>% na.omit()
df
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide[df$hour == 7,], by = 'patid')
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, subset(df_wide, hour == 7), by = 'patid')
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide[df$hour == 7,], by = 'patid')
df
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide[df$hour == 7,], by = 'patid')
df
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide[df$hour == 7,], by = 'patid')
df
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
df
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
df
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
df
# Format appropriate data from numerical into categories
# Adding labels using the Hmisc package to the variables
tmp <- within(df, {
patid <- factor(patid)
pair <- factor(pair)
Age <- age
BMI <- bmi_number
Physical_Activity <- baecke_tot
FRS <- FRS_T
Depression <- beck_total
Smoking <- factor(smoking)
levels(Smoking) <- c("No", "Yes")
Hypertension <- factor(hptn)
levels(Hypertension) <- c("No", "Yes")
Diabetes <- factor(dm)
levels(Diabetes) <- c("No", "Yes")
Antidepressant <- factor(med_antidepr)
levels(Antidepressant) <- c("No", "Yes")
Antilipidemic <- factor(med_lipid_abs)
levels(Antilipidemic) <- c("No", "Yes")
Antihyperglycemic <- factor(med_diabetes_mellitus)
levels(Antihyperglycemic) <- c("No", "Yes")
PTSD <- factor(ptsd)
levels(PTSD) <- c("No", "Yes")
Abnormal_DYX <- factor(CP)
levels(Abnormal_DYX) <- c("No", "Yes")
Abnormal_Stress <- factor(PETdiff_2)
levels(Abnormal_Stress) <- c("No", "Yes")
})
# Comparison group of excluded patients
cmp <- compareGroups(Abnormal_Stress ~ Age + BMI + Smoking + Hypertension + Diabetes + PTSD + Depression + Antidepressant + Antilipidemic + Antihyperglycemic + Physical_Activity + FRS + DYX, data = as.data.frame(tmp))
# Table
cmpTableOutcome <- createTable(cmp, show.n = TRUE, show.ratio = FALSE, show.p.overall = TRUE, show.ci = TRUE)
cmpTableOutcome
208+54
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
# Format appropriate data from numerical into categories
# Adding labels using the Hmisc package to the variables
tmp <- within(df, {
patid <- factor(patid)
pair <- factor(pair)
Age <- age
BMI <- bmi_number
Physical_Activity <- baecke_tot
FRS <- FRS_T
Depression <- beck_total
Smoking <- factor(smoking)
levels(Smoking) <- c("No", "Yes")
Hypertension <- factor(hptn)
levels(Hypertension) <- c("No", "Yes")
Diabetes <- factor(dm)
levels(Diabetes) <- c("No", "Yes")
Antidepressant <- factor(med_antidepr)
levels(Antidepressant) <- c("No", "Yes")
Antilipidemic <- factor(med_lipid_abs)
levels(Antilipidemic) <- c("No", "Yes")
Antihyperglycemic <- factor(med_diabetes_mellitus)
levels(Antihyperglycemic) <- c("No", "Yes")
PTSD <- factor(ptsd)
levels(PTSD) <- c("No", "Yes")
Abnormal_DYX <- factor(CP)
levels(Abnormal_DYX) <- c("No", "Yes")
Abnormal_Stress <- factor(PETdiff_2)
levels(Abnormal_Stress) <- c("No", "Yes")
})
# Comparison group of excluded patients
cmp <- compareGroups(Abnormal_DYX ~ Age + BMI + Smoking + Hypertension + Diabetes + PTSD + Depression + Antidepressant + Antilipidemic + Antihyperglycemic + Physical_Activity + FRS + Abnormal_Stress, data = as.data.frame(tmp))
# Table
cmpTableExposure <- createTable(cmp, show.n = TRUE, show.ratio = FALSE, show.p.overall = TRUE)
cmpTableExposure
216+38
missingTable(cmp)
216+38
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
# Format appropriate data from numerical into categories
# Adding labels using the Hmisc package to the variables
tmp <- within(df, {
patid <- factor(patid)
pair <- factor(pair)
Age <- age
BMI <- bmi_number
Physical_Activity <- baecke_tot
FRS <- FRS_T
Depression <- beck_total
Smoking <- factor(smoking)
levels(Smoking) <- c("No", "Yes")
Hypertension <- factor(hptn)
levels(Hypertension) <- c("No", "Yes")
Diabetes <- factor(dm)
levels(Diabetes) <- c("No", "Yes")
Antidepressant <- factor(med_antidepr)
levels(Antidepressant) <- c("No", "Yes")
Antilipidemic <- factor(med_lipid_abs)
levels(Antilipidemic) <- c("No", "Yes")
Antihyperglycemic <- factor(med_diabetes_mellitus)
levels(Antihyperglycemic) <- c("No", "Yes")
PTSD <- factor(ptsd)
levels(PTSD) <- c("No", "Yes")
Abnormal_DYX <- factor(CP)
levels(Abnormal_DYX) <- c("No", "Yes")
Abnormal_Stress <- factor(PETdiff_2)
levels(Abnormal_Stress) <- c("No", "Yes")
})
# Comparison group of excluded patients
cmpExp <- compareGroups(Abnormal_DYX ~ Age + BMI + Smoking + Hypertension + Diabetes + PTSD + Depression + Antidepressant + Antilipidemic + Antihyperglycemic + Physical_Activity + FRS + Abnormal_Stress, data = as.data.frame(tmp))
# Table
cmpTableExposure <- createTable(cmpExp, show.n = TRUE, show.ratio = FALSE, show.p.overall = TRUE)
# Export to markdown
export2md(cmpTableExposure)
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
# Format appropriate data from numerical into categories
# Adding labels using the Hmisc package to the variables
tmp <- within(df, {
patid <- factor(patid)
pair <- factor(pair)
Age <- age
BMI <- bmi_number
Physical_Activity <- baecke_tot
FRS <- FRS_T
Depression <- beck_total
Smoking <- factor(smoking)
levels(Smoking) <- c("No", "Yes")
Hypertension <- factor(hptn)
levels(Hypertension) <- c("No", "Yes")
Diabetes <- factor(dm)
levels(Diabetes) <- c("No", "Yes")
Antidepressant <- factor(med_antidepr)
levels(Antidepressant) <- c("No", "Yes")
Antilipidemic <- factor(med_lipid_abs)
levels(Antilipidemic) <- c("No", "Yes")
Antihyperglycemic <- factor(med_diabetes_mellitus)
levels(Antihyperglycemic) <- c("No", "Yes")
PTSD <- factor(ptsd)
levels(PTSD) <- c("No", "Yes")
Abnormal_DYX <- factor(CP)
levels(Abnormal_DYX) <- c("No", "Yes")
Abnormal_Stress <- factor(PETdiff_2)
levels(Abnormal_Stress) <- c("No", "Yes")
})
# Comparison group of excluded patients
cmpOut <- compareGroups(Abnormal_Stress ~ Age + BMI + Smoking + Hypertension + Diabetes + PTSD + Depression + Antidepressant + Antilipidemic + Antihyperglycemic + Physical_Activity + FRS + DYX, data = as.data.frame(tmp))
# Table
cmpTableOutcome <- createTable(cmpOut, show.n = TRUE, show.ratio = FALSE, show.p.overall = TRUE, show.ci = TRUE)
# Export to markdown
export2md(cmpTableOutcome)
missingTable(cmpExp)
missingTable(cmpOut)
208+54
cmpTableExposureOu
cmpTableOutcome
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
# Format appropriate data from numerical into categories
# Adding labels using the Hmisc package to the variables
tmp <- within(df, {
patid <- factor(patid)
pair <- factor(pair)
Age <- age
BMI <- bmi_number
Physical_Activity <- baecke_tot
FRS <- FRS_T
Depression <- beck_total
Smoking <- factor(smoking)
levels(Smoking) <- c("No", "Yes")
Hypertension <- factor(hptn)
levels(Hypertension) <- c("No", "Yes")
Diabetes <- factor(dm)
levels(Diabetes) <- c("No", "Yes")
Antidepressant <- factor(med_antidepr)
levels(Antidepressant) <- c("No", "Yes")
Antilipidemic <- factor(med_lipid_abs)
levels(Antilipidemic) <- c("No", "Yes")
Antihyperglycemic <- factor(med_diabetes_mellitus)
levels(Antihyperglycemic) <- c("No", "Yes")
PTSD <- factor(ptsd)
levels(PTSD) <- c("No", "Yes")
Abnormal_DYX <- factor(CP)
levels(Abnormal_DYX) <- c("No", "Yes")
Abnormal_Stress <- factor(PETdiff_2)
levels(Abnormal_Stress) <- c("No", "Yes")
})
# Comparison group of excluded patients
cmpOut <- compareGroups(Abnormal_Stress ~ Age + BMI + Smoking + Hypertension + Diabetes + PTSD + Depression + Antidepressant + Antilipidemic + Antihyperglycemic + Physical_Activity + FRS + Abnormal_DYX, data = as.data.frame(tmp))
# Table
cmpTableOutcome <- createTable(cmpOut, show.n = TRUE, show.ratio = FALSE, show.p.overall = TRUE, show.ci = TRUE)
# Export to markdown
export2md(cmpTableOutcome)
cmpTableOutcome
208+54
missingTable(cmpOut)
missingTable(cmpExp)
216+38+4+1
216+38
208+54
208+54-8
df_wide
x <- compareGroups(hour ~ DYX + CP +HF + LF + VLF + BPM, data = df_wide)
x <- compareGroups(hour ~ DYX + CP + HF + LF + VLF, data = df_wide)
x <- compareGroups(hour ~ DYX + CP + HF + LF, data = df_wide)
x <- compareGroups(hour ~ DYX + CP +HF + LF + VLF + BPM, data = subset(df_wide, hour %in% c(6:10))
x <- compareGroups(hour ~ DYX + CP +HF + LF + VLF + BPM, data = subset(df_wide, hour %in% c(6:10)))
x <- compareGroups(hour ~ DYX + CP +HF + LF + VLF + BPM, data = subset(df_wide, hour %in% c(6:10)))
x
missingTable(x)
compareGroups(hour ~ DYX + CP +HF + LF + VLF + BPM, data = subset(df_wide, hour %in% c(11:15))) %>%
missingTable(.)
tmp
tmp$CP
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
# Format appropriate data from numerical into categories
# Adding labels using the Hmisc package to the variables
tmp <- within(df, {
patid <- factor(patid)
pair <- factor(pair)
Age <- age
BMI <- bmi_number
Physical_Activity <- baecke_tot
FRS <- FRS_T
Depression <- beck_total
Smoking <- factor(smoking)
levels(Smoking) <- c("No", "Yes")
Hypertension <- factor(hptn)
levels(Hypertension) <- c("No", "Yes")
Diabetes <- factor(dm)
levels(Diabetes) <- c("No", "Yes")
Antidepressant <- factor(med_antidepr)
levels(Antidepressant) <- c("No", "Yes")
Antilipidemic <- factor(med_lipid_abs)
levels(Antilipidemic) <- c("No", "Yes")
Antihyperglycemic <- factor(med_diabetes_mellitus)
levels(Antihyperglycemic) <- c("No", "Yes")
PTSD <- factor(ptsd)
levels(PTSD) <- c("No", "Yes")
Abnormal_DYX <- factor(CP)
levels(Abnormal_DYX) <- c("No", "Yes")
Abnormal_Stress <- factor(PETdiff_2)
levels(Abnormal_Stress) <- c("No", "Yes")
})
# Comparison group of excluded patients
cmpExp <- compareGroups(Abnormal_DYX ~ Age + BMI + Smoking + Hypertension + Diabetes + PTSD + Depression + Antidepressant + Antilipidemic + Antihyperglycemic + Physical_Activity + FRS + Abnormal_Stress, include.miss = TRUE, data = as.data.frame(tmp))
# Table
cmpTableExposure <- createTable(cmpExp, show.n = TRUE, show.ratio = FALSE, show.p.overall = TRUE)
# Export to markdown
export2md(cmpTableExposure)
cmpTableExposure
cmpExp
missingTable(cmpTableExposure)
8/262
tmp %<>% tmp[tmp$CP != NA, ]
tmp
levels(Abnormal_Stress) <- c("No", "Yes")
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
# Format appropriate data from numerical into categories
# Adding labels using the Hmisc package to the variables
tmp <- within(df, {
patid <- factor(patid)
pair <- factor(pair)
Age <- age
BMI <- bmi_number
Physical_Activity <- baecke_tot
FRS <- FRS_T
Depression <- beck_total
Smoking <- factor(smoking)
levels(Smoking) <- c("No", "Yes")
Hypertension <- factor(hptn)
levels(Hypertension) <- c("No", "Yes")
Diabetes <- factor(dm)
levels(Diabetes) <- c("No", "Yes")
Antidepressant <- factor(med_antidepr)
levels(Antidepressant) <- c("No", "Yes")
Antilipidemic <- factor(med_lipid_abs)
levels(Antilipidemic) <- c("No", "Yes")
Antihyperglycemic <- factor(med_diabetes_mellitus)
levels(Antihyperglycemic) <- c("No", "Yes")
PTSD <- factor(ptsd)
levels(PTSD) <- c("No", "Yes")
Abnormal_DYX <- factor(CP)
levels(Abnormal_DYX) <- c("No", "Yes")
Abnormal_Stress <- factor(PETdiff_2)
levels(Abnormal_Stress) <- c("No", "Yes")
})
tmp %<>% tmp[tmp$CP != NA, ]
tmp
tmp[!is.na(tmp$CP),]
tmp[!is.na(tmp$CP),]
tmp[!is.na(tmp$CP),] -> y
y
tmp %<>% tmp[!is.na(tmp$CP),]
tmp <- tmp[!is.na(tmp$CP),]
# Comparison group of excluded patients
cmpExp <- compareGroups(Abnormal_DYX ~ Age + BMI + Smoking + Hypertension + Diabetes + PTSD + Depression + Antidepressant + Antilipidemic + Antihyperglycemic + Physical_Activity + FRS + Abnormal_Stress, data = as.data.frame(tmp))
# Table
cmpTableExposure <- createTable(cmpExp, show.n = TRUE, show.ratio = FALSE, show.p.overall = TRUE)
knitr::opts_chunk$set(
cache = TRUE,
warning = FALSE,
eval = TRUE,
echo = FALSE,
include = FALSE,
message = FALSE,
dpi = 600,
dev = "png",
options("scipen" = 999, "digits" = 3)
)
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
# Format appropriate data from numerical into categories
# Adding labels using the Hmisc package to the variables
tmp <- within(df, {
patid <- factor(patid)
pair <- factor(pair)
Age <- age
BMI <- bmi_number
Physical_Activity <- baecke_tot
FRS <- FRS_T
Depression <- beck_total
Smoking <- factor(smoking)
levels(Smoking) <- c("No", "Yes")
Hypertension <- factor(hptn)
levels(Hypertension) <- c("No", "Yes")
Diabetes <- factor(dm)
levels(Diabetes) <- c("No", "Yes")
Antidepressant <- factor(med_antidepr)
levels(Antidepressant) <- c("No", "Yes")
Antilipidemic <- factor(med_lipid_abs)
levels(Antilipidemic) <- c("No", "Yes")
Antihyperglycemic <- factor(med_diabetes_mellitus)
levels(Antihyperglycemic) <- c("No", "Yes")
PTSD <- factor(ptsd)
levels(PTSD) <- c("No", "Yes")
Abnormal_DYX <- factor(CP)
levels(Abnormal_DYX) <- c("No", "Yes")
Abnormal_Stress <- factor(PETdiff_2)
levels(Abnormal_Stress) <- c("No", "Yes")
})
tmp <- tmp[!is.na(tmp$CP),]
# Comparison group of excluded patients
cmpExp <- compareGroups(Abnormal_DYX ~ Age + BMI + Smoking + Hypertension + Diabetes + PTSD + Depression + Antidepressant + Antilipidemic + Antihyperglycemic + Physical_Activity + FRS + Abnormal_Stress, data = as.data.frame(tmp))
# Table
cmpTableExposure <- createTable(cmpExp, show.n = TRUE, show.ratio = FALSE, show.p.overall = TRUE)
# Export to markdown
export2md(cmpTableExposure)
## Using the compareGroup package
## Demographic data and baseline characteristics
df <- inner_join(df_twins, df_wide, by = 'patid') %>%
subset(., hour == 7)
# Format appropriate data from numerical into categories
# Adding labels using the Hmisc package to the variables
tmp <- within(df, {
patid <- factor(patid)
pair <- factor(pair)
Age <- age
BMI <- bmi_number
Physical_Activity <- baecke_tot
FRS <- FRS_T
Depression <- beck_total
Smoking <- factor(smoking)
levels(Smoking) <- c("No", "Yes")
Hypertension <- factor(hptn)
levels(Hypertension) <- c("No", "Yes")
Diabetes <- factor(dm)
levels(Diabetes) <- c("No", "Yes")
Antidepressant <- factor(med_antidepr)
levels(Antidepressant) <- c("No", "Yes")
Antilipidemic <- factor(med_lipid_abs)
levels(Antilipidemic) <- c("No", "Yes")
Antihyperglycemic <- factor(med_diabetes_mellitus)
levels(Antihyperglycemic) <- c("No", "Yes")
PTSD <- factor(ptsd)
levels(PTSD) <- c("No", "Yes")
Abnormal_DYX <- factor(CP)
levels(Abnormal_DYX) <- c("No", "Yes")
Abnormal_Stress <- factor(PETdiff_2)
levels(Abnormal_Stress) <- c("No", "Yes")
})
# Remove NA
tmp <- tmp[!is.na(tmp$CP),]
# Comparison group of excluded patients
cmpOut <- compareGroups(Abnormal_Stress ~ Age + BMI + Smoking + Hypertension + Diabetes + PTSD + Depression + Antidepressant + Antilipidemic + Antihyperglycemic + Physical_Activity + FRS + Abnormal_DYX, data = as.data.frame(tmp))
# Table
cmpTableOutcome <- createTable(cmpOut, show.n = TRUE, show.ratio = FALSE, show.p.overall = TRUE, show.ci = TRUE)
# Export to markdown
export2md(cmpTableOutcome)
cmpTableExposure
216+38
cmpTableOutcome
204+50
cmpTableExposure
cmpTableOutcome
cmpTableExposure
df <- inner_join(df_twins, df_wide[df_wide$hour == 7 & !is.na(df_wide$CP), ])
df
tbl <- table(df$CP, df$PETdiff_2)
tbl
chisq.test(tbl)
options(digit = 4)
chisq.test(tbl)
x <- chisq.test(tbl)
x
summary(x)
x$p.value
confint(x)
prop.test(tbl)
x$statistic
x$p.value
